<!DOCTYPE HTML>
<html lang="en">

<link rel="shortcut icon" type="image/x-icon" href="/aow4db/favicon.ico" />

<head>
    <link rel="stylesheet" type="text/css" href="/aow4db/Style/style.css">
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>


    <script>
        var townHall1 = {
            "requirement_description": "",
            "id": "town_hall_i_town_center",
            "description": "",
            "name": "Town Hall I: Town Center",
            "icon": "town_hall_i_town_center",
            "is_sector_upgrade": false,
            "cost": "",
            "prediction_description": "<bulletlist><bullet>+1 <hero></hero> Hero Cap</bullet><bullet>+20 <draft></draft> Draft income</bullet><bullet>+40 <food></food> Food income</bullet><bullet>+20 <production></production> Production income</bullet></bulletlist>",
        };
        var throne = {
            "requirement_description": "",
            "id": "throne",
            "description": "An Empire can only have one Throne. If your Ruler is defeated in Combat, they will respawn here after 3<turn></turn> Turns. If your Ruler is defeated and your Throne is taken, your Empire is defeated.",
            "name": "Throne",
            "icon": "throne",
            "is_sector_upgrade": false,
            "cost": "",
            "prediction_description": "<bulletlist><bullet>Unlock Fortification</bullet><bullet>+20 <garrison></garrison> Fortification Health</bullet><bullet>+60 <knowledge></knowledge> Knowledge income</bullet><bullet>+40 <influence></influence> Imperium income</bullet><bullet>+120 <gold></gold> Gold income</bullet><bullet>+20 <mana></mana> Mana income</bullet></bulletlist>",
        };


        var general = [
            // A
            "town_hall_i_town_center:5:1:hero&happiness&unitprod&food&production",
            "throne:6:1:garrison&research&influence&gold&mana:throne",

            // "heros_lodge:13:1:hero:chosen_destroyers",
            // B


            "vendor:6:2:gold",
            "experimentation_chambers:7:2:gold&knowledge:dark",
            "shrine:8:2:mana",
            "clergy_commons:9:2:mana&gold:feudal",
            "mana_forge:10:2:mana&production:reaver",
            "library:11:2:research",
            "battle_ritual_site:12:2:unitprod&research:barbarian",
            "store_house:13:2:food",
            "workers_farmstead:14:2:food&production:industrious",
            "workshop:15:2:production&unitprod",
            "evocators_abode:16:2:production&unitprod&mana:mystic",
            "woodcarvers_workshop:17:2:draft&production&food:primal",
            "artisan_workshop:18:2:production&unitprod&happiness:high",

            "shipyard:20:2:gold",


            // all the tome buildings
            "luxury_markets:22:2:na:materium",
            "artisan_fortification:23:2:garrison:materium",
            "fortified_crucible:24:2:garrison:materium",
            "reagent_refinery:25:2:gold:materium",


            // C

            "palisade_walls:1:3:garrison",
            "market:6:3:gold",
            "underground_laboratory:7:3:gold:dark",
            "mana_obelisk:8:3:mana",
            "tithe_shrine:9:3:mana&gold:feudal",
            "lodestone_foundry:10:3:mana&production:reaver",
            "arcane_institute:11:3:research",
            "ancestral_seer_hall:12:3:unitprod&research:barbarian",
            "granary:13:3:food",
            "grand_mill:14:3:food&production:industrious",
            "stonemason:15:3:production",
            "stone_conjurer:16:3:production&mana:mystic",
            "stonestele:17:3:production&food:primal",
            "blacksmith:18:3:unitprod",
            "lightforge:19:3:draft&gold:high",
            "fishmonger:20:3:food",

            // all the tome buildings
            "tower_of_true_sight:22:3:na:astral",
            "astral_trade_relay:23:3:gold:astral",
            "throne_of_mirrors:24:3:garrison:astral",
            "temple_of_fertility:25:3:food&unitprod:nature",

            // D


            "mint:6:4:gold",

            "monolith:8:4:mana",
            "academy:11:4:research",
            "estate_hall:13:4:food",
            "masonic_hall:15:4:production",
            "armory:18:4:unitprod",
            "grand_wharf:20:4:production",

            // all the tome buildins
            "tribunal:22:4:happiness&research:order",
            "convent:23:4:research&mana:order",
            "barons_palace:24:4:gold&happiness:order",
            "monument_of_supremacy:25:4:happiness&unitprod:order",




            // E


            "merchants_guild:6:5:gold",

            "mages_guild:8:5:mana",
            "scholars_guild:11:5:research",
            "farmers_guild:13:5:food",
            "workers_guild:15:5:production",
            "smiths_guild:18:5:unitprod",
            "seafarers_guild:20:5:food&production&unitprod&gold",

            // all the tome buildins

            "temple_of_the_exalted:22:5:mana&happiness:order",
            "material_refinery:23:5:gold&knowledge:nature",


            // F
            "town_hall_ii_castle:5:6:gold",
            "town_hall_ii_bulwark:6:6:gold",
            "town_hall_ii_communal_tent:7:6:gold",
            "town_hall_ii_mages_plaza:8:6:gold",
            "town_hall_ii_atrium_of_light:9:6:gold",
            "town_hall_ii_dread_spire:10:6:gold",


            // G
            "caltrop_stash:2:7:garrison",
            "arcane_battlements:3:7:garrison",
            "archer_battlements:4:7:garrison",

            "tavern:11:7:happiness",
            "interrogation_dungeon:12:7:research:dark",

            // "heros_forum:13:7:hero:chosen_destroyers",

            "wizard_tower_foundation:15:7:influence:throne",


            // H

            "bathhouse:11:8:happiness",
            "ritual_mausoleum:12:8:mana:dark",
            "wizard_tower_prison_cells:14:8:research:throne",
            "wizard_tower_level_i:15:8:influence:throne",
            "wizard_tower_crypts:16:8:mana:throne",

            // I
            "town_hall_iii_citadel:5:9:gold",
            "town_hall_iii_forge_tower:6:9:gold",
            "town_hall_iii_halls_of_war:7:9:gold",
            "town_hall_iii_mystic_spire:8:9:gold",
            "town_hall_iii_pantheon:9:9:gold",
            "town_hall_iii_stronghold:10:9:gold",

            "wizard_tower_item_forge:14:9::throne", // affinity bolstering matrix
            "wizard_tower_level_ii:15:9:influence:throne",
            "wizard_tower_room_of_recall:16:9:na:throne",

            // J

            "stone_walls:1:10:garrison",

            // "heros_inn:13:10:hero:chosen_destroyers",

            "wizard_tower_apex:15:10:influence:throne",
            "wizard_tower_channeling_chamber:16:10:caststrategic&optactical:throne",

            // affinity bolstering matrix

            "materium_bolstering_matrix:18:10:na:throne",
            "astral_bolstering_matrix:19:10:na:throne",
            "nature_bolstering_matrix:20:10:na:throne",
            "chaos_bolstering_matrix:21:10:na:throne",
            "order_bolstering_matrix:22:10:na:throne",
            "shadow_bolstering_matrix:23:10:na:throne",



            // K
            "ballista_towers:2:11:garrison",
            "necrotic_spires:3:11:garrison:shadow",
            "healing_spires:4:11:na:order",

            "lords_manor:5:10:gold&food:feudal",
            "bastions_barricade:6:10:garrison&happiness:industrious",
            "shrine_of_the_wargod:7:10:na:barbarian",
            "altar_of_the_all-seers:8:10:na:mystic",
            "solar_nexus:9:10:happiness:high",
            "overlords_tower:10:10:unitprod&mana:dark",
            "extraction_nexus:11:10:gold&mana:reaver",
            "shrine_to_the_spirits:12:10:food:primal",


            "wizard_tower_arcane_observatory:15:11:na:throne",
            "wizard_tower_teleportation_circle:16:11:na:throne",

            // affinity lens amp
            "materium_amplifier_lens:18:11:na:throne",
            "astral_amplifier_lens:19:11:na:throne",
            "nature_amplifier_lens:20:11:na:throne",
            "chaos_amplifier_lens:21:11:na:throne",
            "order_amplifier_lens:22:11:na:throne",
            "shadow_amplifier_lens:23:11:na:throne",
            //L
            "town_hall_iv_grand_estate:5:12:gold&happiness",
            "town_hall_iv_industry_compound:6:12:gold&happiness",
            "town_hall_iv_warlords_pavilion:7:12:gold&happiness",
            "town_hall_iv_wizards_auditorium:8:12:gold&happiness&caststrategic&casttactical",
            "town_hall_iv_solar_sanctum:9:12:gold&happiness",
            "town_hall_iv_black_palace:10:12:gold&happiness",

            //M
            "catapult_towers:2:13:garrison",
            "beacon_of_valor:3:13:garrison",
            //"heros_quarters:13:13:hero:chosen_destroyers",



        ];



        $("#body").ready(function() {

            $("#header").load("/aow4db/HTML/header.html", function() {
                CheckData();
            });
        });

        function HandlePage() {
            SetUpTreeNodes(general, "general");

            SetCategories();
            SetLevelUpStuff();

        }




        function SetUpStructureNode(structureInfo, splits, type) {

            var offset = 1;
            var i, x = "";
            var holder = document.getElementById("treeHolder" + type);
            var treespace = document.getElementById("treespace" + type);
            var nodeHeight = 100;
            var nodeWidth = 250;

            var row = parseInt(splits[1]);
            var column = parseInt(splits[2]);
            var type = splits[3];

            var name = structureInfo.name;

            if (name.indexOf("<br>")) {
                name = name.replaceAll("</br>", " ");
                name = name.replaceAll("<br>", " ");

                // name = name.replace("br", " ");
            }

            // name = name.split(":")[1];

            var newNode = document.createElement("DIV");



            //insert connection line

            newNode.setAttribute("style", "grid-row:" + (row) + "; grid-column:" + column + ";");

            //  newNode.innerHTML = name;
            newNode.className = "entry";
            var newNodeBackground = document.createElement("DIV");

            var img = document.createElement("IMG");
            img.setAttribute("src", "/aow4db/Icons/UpgradeIcons/" + structureInfo.id + ".png");
            img.setAttribute("height", "60px");
            img.className = "structureNodeIcon";
            newNode.setAttribute("id", structureInfo.id);



            var spa = document.createElement("SPAN");
            spa.className = "structureNodeTitle";



            newNodeBackground.className = "structureNode";



            spa.innerHTML = "<span style=\"color:  #d7c297;\">" + name.toUpperCase() + "</span>" + "<br>";

            if (splits[4]) {
                newNodeBackground.setAttribute("style", "left:15px; top:-30px; width:190px");

                if (splits[4] == "mystic") {

                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/mystic.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  #9bc6ff;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "barbarian") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/barbarian.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  red;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "high") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/high.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  yellow;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "feudal") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/feudal.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  grey;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "dark") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/dark.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  #e92fe9;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "industrious") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/industrious.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  orange;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "reaver") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/reaver.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  yellow;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "primal") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/primal.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  green;\">⤷" + name.toUpperCase() + "</span>" + "<br>";
                }

                if (splits[4] == "throne") {
                    newNodeBackground.setAttribute("style", "left:0px; top:0px; width:220px");
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/throne.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  yellow;\">" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "order") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/order.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  white;\">" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "shadow") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/shadow.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  white;\">" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "nature") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/nature.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  white;\">" + name.toUpperCase() + "</span>" + "<br>";
                }

                if (splits[4] == "materium") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/materium.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  white;\">" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "astral") {
                    newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/astral.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  white;\">" + name.toUpperCase() + "</span>" + "<br>";
                }
                if (splits[4] == "chosen_destroyers") {

                    //  newNodeBackground.style.backgroundImage = "url(\"/aow4db/Icons/Text/mystic.png\")";
                    newNodeBackground.style.backgroundRepeat = "no-repeat";
                    newNodeBackground.style.backgroundPositionX = "140px";
                    newNodeBackground.style.backgroundSize = "80px";
                    newNodeBackground.style.backgroundColor = "#111";
                    spa.innerHTML = "<span style=\"color:  #9bc6ff;\">" + name.toUpperCase() + "</span>" + "<br>";
                    spa.innerHTML += "(Chosen Destroyers, Megacities)<br>";
                }
            }


            var spa2 = document.createElement("SPAN");
            spa2.setAttribute("style", "float:right");
            var desc = document.createElement("SPAN");
            desc.className = "structureNodeDesc";

            var description = structureInfo.prediction_description;
            description = description.replaceAll("<bulletlist>", "");
            description = description.replaceAll("<bullet>", "");
            description = description.replaceAll("</bulletlist>", "");
            description = description.replaceAll("</bullet>", "<br>");


            spa2.innerHTML = "<span style=\"color:  #d7c297;\">" + name.toUpperCase() + "</span>" + "<br>";


            spa2.innerHTML += structureInfo.description + "<br>";

            if (structureInfo.id.indexOf("town_hall_iii_") != -1) {
                description += "<br><br> Unlocks T3 Culture Units";
            }
            if (structureInfo.id.indexOf("town_hall_ii_") != -1) {
                description += "<br><br> Unlocks T2 Culture Units";
            }

            spa2.innerHTML += description + "<br>";


            if (structureInfo.requirement_description != "") {
                spa2.innerHTML += "<br>Requirements:<bulletlist>" +
                    "<bullet>" + structureInfo.requirement_description + "</bullet></bulletlist><br>";
            }

            if ('boost_requirements' in structureInfo) {
                spa2.innerHTML += "<br>Boost Requirements:<bulletlist>" + "<bullet>" +
                    structureInfo.boost_requirements + "</bullet></bulletlist>";
            }






            // cost

            var cost = document.createElement("DIV");
            cost.setAttribute("style", "position:absolute; bottom:0px; right:0px");
            cost.innerHTML = structureInfo.cost;


            newNode.appendChild(newNodeBackground);


            newNodeBackground.append(spa);
            newNodeBackground.append(cost);


            newNodeBackground.append(img);

            if (type != "na") {
                var Type = document.createElement("DIV");
                Type.innerHTML = "+";
                if (type.indexOf("&") != -1) {
                    var typeVar = type.split("&");

                    for (i = 0; i < typeVar.length; i++) {
                        Type.innerHTML += "<" + typeVar[i] + "></" + typeVar[i] + "> ";

                    }



                } else {
                    Type.innerHTML = "+<" + type + "></" + type + ">";
                }


                Type.setAttribute("style", "position:absolute; bottom:40px; left:75px; z-index:3;");
                //Type.setAttribute("style", "float:left; z-index:3");
                newNodeBackground.append(Type);
            }


            //newNode.appendChild(spa2);

            addTooltipListeners(newNode, spa2);

            holder.appendChild(newNode);

        }


        function SetUpTreeNodes(keyword, type) {



            for (x in keyword) {

                var splits = keyword[x].split(":");

                var structure = splits[0];


                var overwrite = ""

                if (structure == "throne") {
                    overwrite = throne;
                    SetUpStructureNode(overwrite, splits, type);
                }
                if (structure == "town_hall_i_town_center") {
                    overwrite = townHall1;
                    SetUpStructureNode(overwrite, splits, type);
                }


                for (i in jsonStructureUpgrades) {

                    if (structure == "town_hall_ii_castle") {
                        if (jsonStructureUpgrades[i].resid == '4282082401405') {
                            SetUpStructureNode(jsonStructureUpgrades[i], splits, type);

                        }

                    } else if (structure == "town_hall_iii_citadel") {
                        if (jsonStructureUpgrades[i].resid == '4282082401410') {
                            SetUpStructureNode(jsonStructureUpgrades[i], splits, type);

                        }

                    } else if (structure == "town_hall_iv_grand_estate") {
                        if (jsonStructureUpgrades[i].resid == '4282082401414') {
                            SetUpStructureNode(jsonStructureUpgrades[i], splits, type);

                        }

                    } else {
                        if (jsonStructureUpgrades[i].id === structure) {
                            SetUpStructureNode(jsonStructureUpgrades[i], splits, type);
                        }






                    }

                }
            }

        }

        function drawLine(topPos, leftPos, angle, width) {
            var connectionLine = document.createElement("DIV");

            connectionLine.setAttribute("style", "top:" + topPos + "px; left:" + leftPos + "px; rotate:" + angle + "deg; background-color:" + "white" + "; width: +" + width + "px");
            connectionLine.className = "branch-line";
            return connectionLine;
        }

        function SetHeaderNodes(keyword, type) {

            var offset = 1;
            var i, x = "";
            var holder = document.getElementById("treeHolder" + type);
            var treespace = document.getElementById("treespace" + type);
            var nodeHeight = 150;
            for (x in keyword) {

                var splits = keyword[x].split(":");

                var structure = splits[0];
                var row = parseInt(splits[1]);
                var column = parseInt(splits[2]);
                var connectTo = splits[3];






                var newNode = document.createElement("DIV");

                newNode.setAttribute("style", "grid-row:" + (row) + "; grid-column:" + column + ";");

                //  newNode.innerHTML = name;
                newNode.className = "entry";
                var newNodeBackground = document.createElement("DIV");

                var img = document.createElement("IMG");
                img.setAttribute("src", "/aow4db/Icons/Text/" + structure + ".png");
                img.setAttribute("height", "50px");
                img.className = "structureNodeIcon";
                newNode.setAttribute("id", structure);



                var spa = document.createElement("SPAN");
                spa.innerHTML = structure.toUpperCase();

                //newNodeBackground.className = "structureNode";

                newNode.appendChild(newNodeBackground);
                newNodeBackground.append(spa);
                newNodeBackground.append(img);

                holder.appendChild(newNode);



            }

        }



        function SetBreakPoints() {
            CreateDiv(2, "1");
            CreateDiv(3, "2");
            CreateDiv(4, "3");
            CreateDiv(5, "4");
        }

        function SetCategories() {
            CreateCategory("Affinity Upgrades", 610, 750, "#641c3459", 2850, 2035);
            CreateCategory("Wizard Tower", 1583, 400, "#1c645d59", 1886, 1573);
            CreateCategory("Tome Buildings", 1245, 520, "#482e8530", 287, 2485);
            CreateCategory("Fortifications", 3470, 476, "#4c4b4b57", 622, 0);
            CreateCategory("Basic Income Buildings", 1245, 1825, "#8eae6f2b", 287, 595);
            CreateCategory("TII City", 260, 728, "#b48d522b", 1586, 485);
            CreateCategory("TIII City", 260, 728, "#b48d522b", 2549, 485);
            CreateCategory("TIV City", 260, 728, "#b48d522b", 3509, 485);
        }

        function CreateCategory(name, width, height, color, positionLeft, positionTop) {
            var holder = document.getElementById("treeHoldergeneral");
            var treespace = document.getElementById("treespacegeneral");
            var category = document.createElement("DIV");

            category.setAttribute("style", "width:" + width + "px; height:" + height + "px; position:absolute; top:" + positionTop + "px; left:" + positionLeft + "px; background-color:" + color + ";   border-width:5px;   border-style: solid;border-image: url(/aow4db/Icons/9slicetooltip.png);border-image-slice: 10 10 10 10 ;");
            var categoryname = document.createElement("DIV");
            categoryname.innerHTML = name.toUpperCase();
            categoryname.setAttribute("Style", "position:absolute; top:2px; left:5px; color:white");
            category.appendChild(categoryname);
            holder.appendChild(category);
        }

        function CreateDiv(row, breakpoint) {
            var holder = document.getElementById("treeHoldergeneral");
            var treespace = document.getElementById("treespacegeneral");
            var breakline = document.createElement("DIV");

            breakline.setAttribute("style", "grid-row:" + row + "; grid-column:16; left: 30%; position: relative; color: grey; font-size:12px;top: 75%;");
            breakline.innerHTML = breakpoint;
            // add breaklines
            holder.appendChild(breakline);

            var breakline = document.createElement("DIV");

            breakline.setAttribute("style", "grid-row:" + row + "; grid-column:1; left: 60%; position: relative; color: grey;font-size:12px;top: 75%;");
            breakline.innerHTML = breakpoint;
            // add breaklines
            holder.appendChild(breakline);

            var toppos = (row * 150);
            var leftpos = 0;
            var color = "red";
            var connectionLine = document.createElement("DIV");
            connectionLine.setAttribute("style", "top:" + toppos + "px; left:" + leftpos + "px; rotate:0deg;width: 1100px;");


            connectionLine.className = "dotted-line";
            treespace.appendChild(connectionLine);



        }

    </script>


    <title>Age of Wonders 4 Database - City Tree</title>
</head>

<body>
    <div id="header"></div>

    <div id="General" class="w3-container w3-border city">>
        <div class="textblocktitle">
            City Tree
        </div>


        <div class="tree-space" id="treespacegeneral">

            <div class="tree-grid" id="treeHoldergeneral">
            </div>
        </div>
    </div>




</body>

</html>
<style>
    .branch-line {
        height: 4px;
        margin-top: -6px;
        position: absolute;

        transform-origin: left center;
        background-color: white;
        background-size: 10px;
        width: 25px;
    }

    .dotted-line {
        height: 4px;
        margin-top: -6px;
        position: absolute;

        transform-origin: left center;
        background-image: url(/aow4db/Icons/Interface/talents-arrow-line-gray.png);
        background-size: 10px;
        width: 25px;
    }

    .tree-grid {
        display: grid;
        grid-template-columns: repeat(14, 320px);
        grid-template-rows: repeat(23, 120px);
        position: absolute;
        height: auto;
        width: auto;
        background-color: black;
        background-image: url(/aow4db/Icons/Interface/citytree.png);
        background-size: 5584px;
        background-repeat: no-repeat;
        border-width: 5px;
        border-image: url(/aow4db/Icons/9slicetooltip.png);
        border-image-slice: 10 10 10 10 fill;
        border-style: solid;
        padding-top: 30px;
    }


    .tree-space {
        width: auto;
        height: auto;

        position: relative;
        transform: scale(0.85);
    }

    .entry {
        background-color: transparent;
        color: aliceblue;
        text-align: center;
    }

    .structureNode {
        position: relative;



        background-image: url(/aow4db/Icons/tooltipBG.png);
        font-size: 11px;
        color: #bbcdf6;
        min-height: 60px;
        max-height: 130px;
        width: 225px;
        text-align: left;
        border-style: solid;
        border-image: url(/aow4db/Icons/9slicetooltip.png);
        border-image-slice: 4 10 4 10 fill;
        text-shadow: 2px 2px black;
        box-shadow: 0px 0px 5px 5px rgba(0, 0, 0, 0.3);

        padding: 5px;
        z-index: 2;
    }

    .structureNodeTitle {
        z-index: 2;
        left: 0px;
        position: relative;

    }

    .structureNodeDesc {
        z-index: 2;
        top: 20px;
        left: 61px;
        position: absolute;

    }


    .structureNodeIcon {

        z-index: 2;
        left: 0px;
        position: relative;


    }

    .structureNode:hover {
        filter: brightness(150%);

    }

</style>
<footer>
    <br>
    <br>
</footer>
